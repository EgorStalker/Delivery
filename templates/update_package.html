<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Обновить статус посылки</title>
</head>
<body>
    <h1>Обновление статуса посылки</h1>

    <form onsubmit="event.preventDefault(); updateStatus();">
        <label for="packageId">ID посылки:</label>
        <input type="number" id="packageId" required><br><br>

        <label for="newStatus">Новый статус:</label>
        <input type="text" id="newStatus" required><br><br>

        <button type="submit">Обновить</button>
    </form>

    <p id="result"></p>

    <script>
        function updateStatus() {
            const id = document.getElementById("packageId").value;
            const status = document.getElementById("newStatus").value;

            fetch(`/a/${id}`, {
                method: "PUT",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ status_package: status })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById("result").innerText = JSON.stringify(data, null, 2);
            })
            .catch(error => {
                document.getElementById("result").innerText = "Ошибка: " + error;
            });
        }
    </script>
</body>
</html>
